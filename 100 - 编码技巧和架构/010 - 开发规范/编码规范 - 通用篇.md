# 不要忽略 ORM 方法的返回值

Mybatis-Plus 的 curd 方法都有返回值，不要忽略返回的布尔值

比如 remove 方法，如果删除一个不存在的 id，方法会返回 false

不要忽略这个返回值，但也不要收到 false 后抛异常，因为如果真的是插入数据时主键重复这种异常，ORM 会抛异常，而不会用返回 false 方式告知调用方

另外，即使收到了 false，打印个错误日志，然后让方法返回 false（六方云是这样干的。但是我不同意，因为遇到 false 后直接返回，不再执行下面的逻辑，因为没抛异常，所以事务不会回滚，这就产生无用数据或者脏数据了吧？）

## 删除基础数据时需要连带删除其他模块的数据

如果删除用户数据时，需要删除各个服务里属于当前用户的数据，比如删除这个用户在 vas 里创建的漏扫任务，在 soar 里创建的处置策略。

能不能用观察者模式实现删除基础数据，所有基础数据的 service 均采用观察者模式，各个微服务向其注册观察者，一旦删除 数据就调用各个微服务自己的删除逻辑。

优点：当各个模块修改表设计，或功能后。既不用基础数据的负责人或自行添加删除代码，